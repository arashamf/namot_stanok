ARM GAS  /tmp/ccL9TQW7.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"menu.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.init_loop,"ax",%progbits
  18              		.align	1
  19              		.global	init_loop
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	init_loop:
  25              	.LFB950:
  26              		.file 1 "display/menu.c"
   1:display/menu.c **** 
   2:display/menu.c **** // Includes ---------------------------------------------------------------------------------------
   3:display/menu.c **** #include "menu.h"
   4:display/menu.c **** #include "typedef.h"
   5:display/menu.c **** #include "eeprom.h"
   6:display/menu.c **** #include "tim.h"
   7:display/menu.c **** #include "button.h"
   8:display/menu.c **** #include "drive.h"
   9:display/menu.c **** #include "ssd1306.h"
  10:display/menu.c **** #include "fonts.h"
  11:display/menu.c **** #include "calc_value.h"
  12:display/menu.c **** #include "encoder.h"
  13:display/menu.c **** #include "usart.h"
  14:display/menu.c **** #include "gpio.h"
  15:display/menu.c **** #include "iwdg.h"
  16:display/menu.c **** 
  17:display/menu.c **** // Declarations and definitions -------------------------------------------------------------------
  18:display/menu.c **** 
  19:display/menu.c **** // Variables --------------------------------------------------------------------------------------
  20:display/menu.c **** uint8_t count_delay = 0; //–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –ø–æ 10 –º—Å –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫
  21:display/menu.c **** __IO uint8_t drive_mode = PRESET1; //–Ω–æ–º–µ—Ä –ø—Ä–µ—Å–µ—Ç–∞
  22:display/menu.c **** 
  23:display/menu.c **** // Functions --------------------------------------------------------------------------------------
  24:display/menu.c **** void init_loop (void)	
  25:display/menu.c **** {
  27              		.loc 1 25 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 00B5     		push	{lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccL9TQW7.s 			page 2


  34              		.cfi_offset 14, -4
  35 0002 83B0     		sub	sp, sp, #12
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 16
  26:display/menu.c **** 	__IO uint16_t key_code = NO_KEY; //–∫–æ–¥ –∫–Ω–æ–ø–∫–∏
  38              		.loc 1 26 2 view .LVU1
  39              		.loc 1 26 16 is_stmt 0 view .LVU2
  40 0004 0023     		movs	r3, #0
  41 0006 ADF80630 		strh	r3, [sp, #6]	@ movhi
  27:display/menu.c **** 	while (count_delay < START_DELAY) //–∑–∞–¥–µ—Ä–∂–∫–∞ 1—Å
  42              		.loc 1 27 2 is_stmt 1 view .LVU3
  43              		.loc 1 27 8 is_stmt 0 view .LVU4
  44 000a 0BE0     		b	.L2
  45              	.L3:
  28:display/menu.c **** 	{
  29:display/menu.c **** 		if ((key_code = start_scan_key_PEDAL()) == NO_KEY)  //–µ—Å–ª–∏ –ø–µ–¥–∞–ª—å –Ω–∞–∂–∞—Ç–∞
  30:display/menu.c **** 		{	count_delay++; }
  31:display/menu.c **** 		else
  32:display/menu.c **** 		{
  33:display/menu.c **** 			release_pedal_menu (); //–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–∞–∂–∞—Ç–∏–µ –ø–µ–¥–∞–ª–∏
  46              		.loc 1 33 4 is_stmt 1 view .LVU5
  47 000c FFF7FEFF 		bl	release_pedal_menu
  48              	.LVL0:
  34:display/menu.c **** 			while ((key_code = start_scan_key_PEDAL()) != NO_KEY) {}
  49              		.loc 1 34 4 view .LVU6
  50              	.L5:
  51              		.loc 1 34 59 discriminator 1 view .LVU7
  52              		.loc 1 34 10 discriminator 1 view .LVU8
  53              		.loc 1 34 23 is_stmt 0 discriminator 1 view .LVU9
  54 0010 FFF7FEFF 		bl	start_scan_key_PEDAL
  55              	.LVL1:
  56              		.loc 1 34 21 discriminator 1 view .LVU10
  57 0014 ADF80600 		strh	r0, [sp, #6]	@ movhi
  58              		.loc 1 34 10 discriminator 1 view .LVU11
  59 0018 0028     		cmp	r0, #0
  60 001a F9D1     		bne	.L5
  61              	.L4:
  35:display/menu.c **** 		}	
  36:display/menu.c **** 		delay_us (10000);
  62              		.loc 1 36 3 is_stmt 1 view .LVU12
  63 001c 42F21070 		movw	r0, #10000
  64 0020 FFF7FEFF 		bl	delay_us
  65              	.LVL2:
  66              	.L2:
  27:display/menu.c **** 	{
  67              		.loc 1 27 8 view .LVU13
  27:display/menu.c **** 	{
  68              		.loc 1 27 21 is_stmt 0 view .LVU14
  69 0024 094B     		ldr	r3, .L9
  70 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  27:display/menu.c **** 	{
  71              		.loc 1 27 8 view .LVU15
  72 0028 632B     		cmp	r3, #99
  73 002a 0AD8     		bhi	.L8
  29:display/menu.c **** 		{	count_delay++; }
  74              		.loc 1 29 3 is_stmt 1 view .LVU16
  29:display/menu.c **** 		{	count_delay++; }
ARM GAS  /tmp/ccL9TQW7.s 			page 3


  75              		.loc 1 29 19 is_stmt 0 view .LVU17
  76 002c FFF7FEFF 		bl	start_scan_key_PEDAL
  77              	.LVL3:
  29:display/menu.c **** 		{	count_delay++; }
  78              		.loc 1 29 17 view .LVU18
  79 0030 ADF80600 		strh	r0, [sp, #6]	@ movhi
  29:display/menu.c **** 		{	count_delay++; }
  80              		.loc 1 29 6 view .LVU19
  81 0034 0028     		cmp	r0, #0
  82 0036 E9D1     		bne	.L3
  30:display/menu.c **** 		else
  83              		.loc 1 30 5 is_stmt 1 view .LVU20
  30:display/menu.c **** 		else
  84              		.loc 1 30 16 is_stmt 0 view .LVU21
  85 0038 044A     		ldr	r2, .L9
  86 003a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
  87 003c 0133     		adds	r3, r3, #1
  88 003e 1370     		strb	r3, [r2]
  89 0040 ECE7     		b	.L4
  90              	.L8:
  37:display/menu.c **** 	}
  38:display/menu.c **** 	init_status_flags_drives();
  91              		.loc 1 38 2 is_stmt 1 view .LVU22
  92 0042 FFF7FEFF 		bl	init_status_flags_drives
  93              	.LVL4:
  39:display/menu.c **** }
  94              		.loc 1 39 1 is_stmt 0 view .LVU23
  95 0046 03B0     		add	sp, sp, #12
  96              	.LCFI2:
  97              		.cfi_def_cfa_offset 4
  98              		@ sp needed
  99 0048 5DF804FB 		ldr	pc, [sp], #4
 100              	.L10:
 101              		.align	2
 102              	.L9:
 103 004c 00000000 		.word	.LANCHOR0
 104              		.cfi_endproc
 105              	.LFE950:
 107              		.section	.text.setup_menu,"ax",%progbits
 108              		.align	1
 109              		.global	setup_menu
 110              		.syntax unified
 111              		.thumb
 112              		.thumb_func
 114              	setup_menu:
 115              	.LVL5:
 116              	.LFB952:
  40:display/menu.c **** 
  41:display/menu.c **** //-------------------------------------------------------------------------------------------------
  42:display/menu.c **** void main_loop (encoder_data_t * HandleEncData, coil_data_t ** HandleCoilData)
  43:display/menu.c **** {
  44:display/menu.c **** 	__IO uint16_t key_code = NO_KEY; //–∫–æ–¥ –∫–Ω–æ–ø–∫–∏
  45:display/menu.c **** 	if ((key_code = scan_keys()) != NO_KEY)
  46:display/menu.c **** 	{
  47:display/menu.c **** 		switch (key_code) //–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–¥–∞ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏
  48:display/menu.c **** 		{	
  49:display/menu.c **** 			case KEY_PEDAL_LONG:
ARM GAS  /tmp/ccL9TQW7.s 			page 4


  50:display/menu.c **** 				start_drives_turn (drive_mode, *(HandleCoilData + (drive_mode-1))); //–≤—ã–ø–æ–Ω–µ–Ω–∏–µ –ø—Ä–µ
  51:display/menu.c **** 				while (scan_button_PEDAL() != OFF) {}	//–æ–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–µ–¥–∞–ª–∏
  52:display/menu.c **** 				break;
  53:display/menu.c **** 					
  54:display/menu.c **** 			case KEY_SETUP_SHORT:	
  55:display/menu.c **** 				drive_mode = menu_select_preset(HandleEncData, HandleCoilData);	//—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ 
  56:display/menu.c **** 				break;
  57:display/menu.c **** 			
  58:display/menu.c **** 			case KEY_SETUP_LONG:
  59:display/menu.c **** 				if (drive_mode != NO_PRESET) //–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–æ–º–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–
  60:display/menu.c **** 				{	settings_preset_reset (drive_mode, *(HandleCoilData + (drive_mode-1))); }//—Å–±—Ä–æ—Å –≤—ã–ø–
  61:display/menu.c **** 				break;
  62:display/menu.c **** 				
  63:display/menu.c **** 			case KEY_NULL_SHORT:
  64:display/menu.c **** 			case KEY_NULL_LONG:
  65:display/menu.c **** 				mode_setup_null_screen(); //–∑–∞—Å—Ç–∞–≤–∫–∞ —Ä–µ–∂–∏–º–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–¥–≤–∏–≥–∞—é—â–µ
  66:display/menu.c **** 				setup_null_position ();  //—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–¥–≤–∏–≥–∞—é—â–µ–≥–æ –¥–≤–∏–≥–µ–ª—è –≤ –Ω—É–ª–µ
  67:display/menu.c **** 				if (drive_mode != NO_PRESET) //–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–æ–º–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–
  68:display/menu.c **** 				{	turn_drive_menu (drive_mode, *(HandleCoilData + (drive_mode-1)), 0); }//–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–
  69:display/menu.c **** 				else
  70:display/menu.c **** 				{	main_menu_select_preset_screen(); }	//–∑–∞—Å—Ç–∞–≤–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
  71:display/menu.c **** 				break;
  72:display/menu.c **** 			
  73:display/menu.c **** 			case KEY_MANUAL_SHORT:
  74:display/menu.c **** 			case KEY_MANUAL_LONG:
  75:display/menu.c **** 				mode_setup_manual_dir_screen(); //–≤—ã–≤–æ–¥ –∑–∞—Å—Ç–∞–≤–∫–∏ –≤—ã–±–æ—Ä–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏
  76:display/menu.c **** 				while (select_direction() == ERROR) {} //–æ–∂–∏–¥–∞–Ω–∏—è –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—
  77:display/menu.c **** 				mode_setup_manual_screen (); //–≤—ã–≤–æ–¥ –∑–∞—Å—Ç–∞–≤–∫–∏ —Ä–µ–∂–∏–º–∞ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω
  78:display/menu.c **** 				manual_control_drive1 ();	//—Ñ-—è —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–ª–æ–∂–µ–Ω–∏—è —Å–¥–≤–∏–≥
  79:display/menu.c **** 				main_menu_select_preset_screen(); //–≤—ã–≤–æ–¥ –∑–∞—Å—Ç–∞–≤–∫–∏ —Ä–µ–∂–∏–º–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–
  80:display/menu.c **** 				break;
  81:display/menu.c **** 		
  82:display/menu.c **** 			default:
  83:display/menu.c **** 				break;	
  84:display/menu.c **** 		}			
  85:display/menu.c **** 	}
  86:display/menu.c **** }
  87:display/menu.c **** 
  88:display/menu.c **** //-------------------------------------------------------------------------------------------------
  89:display/menu.c **** void setup_menu (encoder_data_t * HandleEncData, coil_data_t * HandleCoilData)
  90:display/menu.c **** {
 117              		.loc 1 90 1 is_stmt 1 view -0
 118              		.cfi_startproc
 119              		@ args = 0, pretend = 0, frame = 0
 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121              		.loc 1 90 1 is_stmt 0 view .LVU25
 122 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 123              	.LCFI3:
 124              		.cfi_def_cfa_offset 24
 125              		.cfi_offset 3, -24
 126              		.cfi_offset 4, -20
 127              		.cfi_offset 5, -16
 128              		.cfi_offset 6, -12
 129              		.cfi_offset 7, -8
 130              		.cfi_offset 14, -4
 131 0002 0546     		mov	r5, r0
 132 0004 0C46     		mov	r4, r1
ARM GAS  /tmp/ccL9TQW7.s 			page 5


  91:display/menu.c **** 	uint16_t key_code = NO_KEY;	
 133              		.loc 1 91 2 is_stmt 1 view .LVU26
 134              	.LVL6:
  92:display/menu.c **** 	
  93:display/menu.c **** 	//–≤–≤–æ–¥ —Å–∫–æ—Ä–æ—Å—Ç–∏
  94:display/menu.c **** 	if(HandleCoilData->drive2_turn_in_minute == 0) 
 135              		.loc 1 94 2 view .LVU27
 136              		.loc 1 94 19 is_stmt 0 view .LVU28
 137 0006 8B88     		ldrh	r3, [r1, #4]	@ unaligned
 138              		.loc 1 94 4 view .LVU29
 139 0008 1BB9     		cbnz	r3, .L12
  95:display/menu.c **** 	{	HandleCoilData->drive2_turn_in_minute = BASE_TURN_IN_MINUTE; }
 140              		.loc 1 95 4 is_stmt 1 view .LVU30
 141              		.loc 1 95 42 is_stmt 0 view .LVU31
 142 000a 1E23     		movs	r3, #30
 143 000c 0B71     		strb	r3, [r1, #4]
 144 000e 0023     		movs	r3, #0
 145 0010 4B71     		strb	r3, [r1, #5]
 146              	.L12:
  96:display/menu.c **** 
  97:display/menu.c **** 	if(HandleCoilData->gear_ratio == 0) 
 147              		.loc 1 97 2 is_stmt 1 view .LVU32
 148              		.loc 1 97 19 is_stmt 0 view .LVU33
 149 0012 E388     		ldrh	r3, [r4, #6]	@ unaligned
 150              		.loc 1 97 4 view .LVU34
 151 0014 1BB9     		cbnz	r3, .L13
  98:display/menu.c **** 	{	HandleCoilData->gear_ratio = DEFAULT_GEAR_RATIO; }	
 152              		.loc 1 98 4 is_stmt 1 view .LVU35
 153              		.loc 1 98 31 is_stmt 0 view .LVU36
 154 0016 6423     		movs	r3, #100
 155 0018 A371     		strb	r3, [r4, #6]
 156 001a 0023     		movs	r3, #0
 157 001c E371     		strb	r3, [r4, #7]
 158              	.L13:
  99:display/menu.c **** 
 100:display/menu.c **** 	Stop_Count_Timers(); //–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—á—ë—Ç–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–æ–≤
 159              		.loc 1 100 2 is_stmt 1 view .LVU37
 160 001e FFF7FEFF 		bl	Stop_Count_Timers
 161              	.LVL7:
 101:display/menu.c **** 	HandleCoilData->pulse_frequency = calc_rotation_speed(HandleCoilData->drive2_turn_in_minute); //—Ä
 162              		.loc 1 101 2 view .LVU38
 163              		.loc 1 101 36 is_stmt 0 view .LVU39
 164 0022 A088     		ldrh	r0, [r4, #4]	@ unaligned
 165 0024 FFF7FEFF 		bl	calc_rotation_speed
 166              	.LVL8:
 167              		.loc 1 101 34 view .LVU40
 168 0028 6080     		strh	r0, [r4, #2]	@ unaligned
 102:display/menu.c **** 	drive2_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ –≤—Ä–∞—â–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 169              		.loc 1 102 2 is_stmt 1 view .LVU41
 170 002a 2046     		mov	r0, r4
 171 002c FFF7FEFF 		bl	drive2_turn
 172              	.LVL9:
 103:display/menu.c **** 	drive1_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ —Å–¥–≤–∏–≥–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 173              		.loc 1 103 2 view .LVU42
 174 0030 2046     		mov	r0, r4
 175 0032 FFF7FEFF 		bl	drive1_turn
 176              	.LVL10:
ARM GAS  /tmp/ccL9TQW7.s 			page 6


 104:display/menu.c **** 
 105:display/menu.c **** 	setup_speed_screen (HandleCoilData->drive2_turn_in_minute);
 177              		.loc 1 105 2 view .LVU43
 178 0036 B4F90400 		ldrsh	r0, [r4, #4]	@ unaligned
 179 003a FFF7FEFF 		bl	setup_speed_screen
 180              	.LVL11:
 181              	.L17:
 106:display/menu.c **** 	while (1)
 182              		.loc 1 106 2 view .LVU44
 107:display/menu.c **** 	{
 108:display/menu.c **** 		if (read_encoder (HandleEncData) == ON) //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏–∑–º–µ–Ω–
 183              		.loc 1 108 3 view .LVU45
 184              		.loc 1 108 7 is_stmt 0 view .LVU46
 185 003e 2846     		mov	r0, r5
 186 0040 FFF7FEFF 		bl	read_encoder
 187              	.LVL12:
 188              		.loc 1 108 6 view .LVU47
 189 0044 0128     		cmp	r0, #1
 190 0046 2FD0     		beq	.L34
 191              	.L14:
 109:display/menu.c **** 		{
 110:display/menu.c **** 			HandleCoilData->drive2_turn_in_minute += 3*HandleEncData->delta; //–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ª—å
 111:display/menu.c **** 			HandleEncData->delta = 0; //–æ–±–Ω—É–ª–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã –ø–æ–∫–∞–∑–∞–Ω–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
 112:display/menu.c **** 			if (HandleCoilData->drive2_turn_in_minute > MAX_VALUE_TURN) //–µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±
 113:display/menu.c **** 			{	HandleCoilData->drive2_turn_in_minute = MIN_VALUE_TURN;	}
 114:display/menu.c **** 			else
 115:display/menu.c **** 			{
 116:display/menu.c **** 				if (HandleCoilData->drive2_turn_in_minute <	MIN_VALUE_TURN)
 117:display/menu.c **** 				{	HandleCoilData->drive2_turn_in_minute = MAX_VALUE_TURN;	}
 118:display/menu.c **** 			}
 119:display/menu.c **** 			HandleCoilData->pulse_frequency = calc_rotation_speed(HandleCoilData->drive2_turn_in_minute); //
 120:display/menu.c **** 			drive2_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ –≤—Ä–∞—â–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 121:display/menu.c **** 			drive1_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ —Å–¥–≤–∏–≥–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 122:display/menu.c **** 			setup_speed_screen (HandleCoilData->drive2_turn_in_minute);
 123:display/menu.c **** 		}	
 124:display/menu.c **** 		if ((key_code = scan_keys()) != NO_KEY) //–µ—Å–ª–∏ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞
 192              		.loc 1 124 3 is_stmt 1 view .LVU48
 193              		.loc 1 124 19 is_stmt 0 view .LVU49
 194 0048 FFF7FEFF 		bl	scan_keys
 195              	.LVL13:
 196              		.loc 1 124 6 view .LVU50
 197 004c 0028     		cmp	r0, #0
 198 004e F6D0     		beq	.L17
 125:display/menu.c **** 		{
 126:display/menu.c **** 			if (key_code ==  KEY_SETUP_SHORT) //–∫–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ —ç–Ω–∫–æ–¥–µ—Ä–
 199              		.loc 1 126 4 is_stmt 1 view .LVU51
 200              		.loc 1 126 7 is_stmt 0 view .LVU52
 201 0050 0528     		cmp	r0, #5
 202 0052 F4D1     		bne	.L17
 127:display/menu.c **** 			{	break;	}
 128:display/menu.c **** 		}
 129:display/menu.c **** 	}	
 130:display/menu.c **** 	
 131:display/menu.c **** 	//—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–¥–∞—Ç–æ—á–Ω–æ–≥–æ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è
 132:display/menu.c **** 	setup_ratio_screen (HandleCoilData->gear_ratio);
 203              		.loc 1 132 2 is_stmt 1 view .LVU53
 204 0054 B4F90600 		ldrsh	r0, [r4, #6]	@ unaligned
ARM GAS  /tmp/ccL9TQW7.s 			page 7


 205              	.LVL14:
 206              		.loc 1 132 2 is_stmt 0 view .LVU54
 207 0058 FFF7FEFF 		bl	setup_ratio_screen
 208              	.LVL15:
 209              	.L21:
 133:display/menu.c **** 	
 134:display/menu.c **** 	while (1)
 210              		.loc 1 134 2 is_stmt 1 view .LVU55
 135:display/menu.c **** 	{
 136:display/menu.c **** 		if (read_encoder (HandleEncData) == ON) //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏–∑–º–µ–Ω–
 211              		.loc 1 136 3 view .LVU56
 212              		.loc 1 136 7 is_stmt 0 view .LVU57
 213 005c 2846     		mov	r0, r5
 214 005e FFF7FEFF 		bl	read_encoder
 215              	.LVL16:
 216              		.loc 1 136 6 view .LVU58
 217 0062 0128     		cmp	r0, #1
 218 0064 49D0     		beq	.L35
 219              	.L18:
 137:display/menu.c **** 		{
 138:display/menu.c **** 			HandleCoilData->gear_ratio += 5*HandleEncData->delta;
 139:display/menu.c **** 			HandleEncData->delta = 0;
 140:display/menu.c **** 			if (HandleCoilData->gear_ratio > MAX_VALUE_RATIO)
 141:display/menu.c **** 			{	HandleCoilData->gear_ratio = MIN_VALUE_RATIO;	}
 142:display/menu.c **** 			else
 143:display/menu.c **** 			{
 144:display/menu.c **** 				if (HandleCoilData->gear_ratio < MIN_VALUE_RATIO)
 145:display/menu.c **** 				{	HandleCoilData->gear_ratio = MAX_VALUE_RATIO;	}
 146:display/menu.c **** 			}
 147:display/menu.c **** 			drive2_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ –≤—Ä–∞—â–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 148:display/menu.c **** 			drive1_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ —Å–¥–≤–∏–≥–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 149:display/menu.c **** 			setup_ratio_screen (HandleCoilData->gear_ratio);
 150:display/menu.c **** 		}	
 151:display/menu.c **** 		if ((key_code = scan_keys()) != NO_KEY) //–µ—Å–ª–∏ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞
 220              		.loc 1 151 3 is_stmt 1 view .LVU59
 221              		.loc 1 151 19 is_stmt 0 view .LVU60
 222 0066 FFF7FEFF 		bl	scan_keys
 223              	.LVL17:
 224              		.loc 1 151 6 view .LVU61
 225 006a 0028     		cmp	r0, #0
 226 006c F6D0     		beq	.L21
 152:display/menu.c **** 		{
 153:display/menu.c **** 			if (key_code == KEY_SETUP_SHORT) //–∫–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ —ç–Ω–∫–æ–¥–µ—Ä–∞
 227              		.loc 1 153 4 is_stmt 1 view .LVU62
 228              		.loc 1 153 7 is_stmt 0 view .LVU63
 229 006e 0528     		cmp	r0, #5
 230 0070 F4D1     		bne	.L21
 154:display/menu.c **** 			{	
 155:display/menu.c **** 				SoftStop_Drives() ;
 231              		.loc 1 155 5 is_stmt 1 view .LVU64
 232 0072 FFF7FEFF 		bl	SoftStop_Drives
 233              	.LVL18:
 156:display/menu.c **** 				HardStop_Drives () ;
 234              		.loc 1 156 5 view .LVU65
 235 0076 FFF7FEFF 		bl	HardStop_Drives
 236              	.LVL19:
 157:display/menu.c **** 				status_drives.end_turn_drive1 = DRIVE_FREE;		
ARM GAS  /tmp/ccL9TQW7.s 			page 8


 237              		.loc 1 157 5 view .LVU66
 238              		.loc 1 157 35 is_stmt 0 view .LVU67
 239 007a 5F4B     		ldr	r3, .L39
 240 007c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 241 007e 42F00202 		orr	r2, r2, #2
 242 0082 1A70     		strb	r2, [r3]
 158:display/menu.c **** 				status_drives.end_turn_drive2 = DRIVE_FREE;
 243              		.loc 1 158 5 is_stmt 1 view .LVU68
 244              		.loc 1 158 35 is_stmt 0 view .LVU69
 245 0084 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 246 0086 42F00402 		orr	r2, r2, #4
 247 008a 1A70     		strb	r2, [r3]
 159:display/menu.c **** 				break;
 248              		.loc 1 159 5 is_stmt 1 view .LVU70
 160:display/menu.c **** 			}
 161:display/menu.c **** 		}
 162:display/menu.c **** 	}	
 163:display/menu.c **** 
 164:display/menu.c **** 	//—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–∏—Ç–∫–æ–≤ –æ–±–º–æ—Ç–æ–∫
 165:display/menu.c **** 	for (uint8_t count = 0; count < MAX_NUMBER_COIL; count++)
 249              		.loc 1 165 2 view .LVU71
 250              	.LBB2:
 251              		.loc 1 165 7 view .LVU72
 252              	.LVL20:
 253              		.loc 1 165 15 is_stmt 0 view .LVU73
 254 008c 0023     		movs	r3, #0
 255              	.LVL21:
 256              	.L22:
 257              		.loc 1 165 26 is_stmt 1 discriminator 1 view .LVU74
 258              		.loc 1 165 2 is_stmt 0 discriminator 1 view .LVU75
 259 008e 022B     		cmp	r3, #2
 260 0090 00F2AA80 		bhi	.L36
 166:display/menu.c **** 	{
 167:display/menu.c **** 		setup_coil_screen (count+1, HandleCoilData->set_coil[count]); //–∑–∞—Å—Ç–∞–≤–∫–∞ —Ä–µ–∂–∏–º–∞ —É—
 261              		.loc 1 167 3 is_stmt 1 view .LVU76
 262 0094 5F1C     		adds	r7, r3, #1
 263 0096 FFB2     		uxtb	r7, r7
 264              		.loc 1 167 55 is_stmt 0 view .LVU77
 265 0098 1E46     		mov	r6, r3
 266 009a 0433     		adds	r3, r3, #4
 267              	.LVL22:
 268              		.loc 1 167 3 view .LVU78
 269 009c 34F81310 		ldrh	r1, [r4, r3, lsl #1]	@ unaligned
 270 00a0 3846     		mov	r0, r7
 271 00a2 FFF7FEFF 		bl	setup_coil_screen
 272              	.LVL23:
 273 00a6 60E0     		b	.L26
 274              	.L34:
 275              		.loc 1 167 3 view .LVU79
 276              	.LBE2:
 110:display/menu.c **** 			HandleEncData->delta = 0; //–æ–±–Ω—É–ª–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã –ø–æ–∫–∞–∑–∞–Ω–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
 277              		.loc 1 110 4 is_stmt 1 view .LVU80
 110:display/menu.c **** 			HandleEncData->delta = 0; //–æ–±–Ω—É–ª–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã –ø–æ–∫–∞–∑–∞–Ω–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
 278              		.loc 1 110 60 is_stmt 0 view .LVU81
 279 00a8 95F90430 		ldrsb	r3, [r5, #4]
 280 00ac 9BB2     		uxth	r3, r3
 110:display/menu.c **** 			HandleEncData->delta = 0; //–æ–±–Ω—É–ª–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã –ø–æ–∫–∞–∑–∞–Ω–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
ARM GAS  /tmp/ccL9TQW7.s 			page 9


 281              		.loc 1 110 46 view .LVU82
 282 00ae 03EB4303 		add	r3, r3, r3, lsl #1
 283 00b2 9BB2     		uxth	r3, r3
 110:display/menu.c **** 			HandleEncData->delta = 0; //–æ–±–Ω—É–ª–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã –ø–æ–∫–∞–∑–∞–Ω–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
 284              		.loc 1 110 42 view .LVU83
 285 00b4 A288     		ldrh	r2, [r4, #4]	@ unaligned
 286 00b6 1344     		add	r3, r3, r2
 287 00b8 A380     		strh	r3, [r4, #4]	@ unaligned
 111:display/menu.c **** 			if (HandleCoilData->drive2_turn_in_minute > MAX_VALUE_TURN) //–µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±
 288              		.loc 1 111 4 is_stmt 1 view .LVU84
 111:display/menu.c **** 			if (HandleCoilData->drive2_turn_in_minute > MAX_VALUE_TURN) //–µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±
 289              		.loc 1 111 25 is_stmt 0 view .LVU85
 290 00ba 0023     		movs	r3, #0
 291 00bc 2B71     		strb	r3, [r5, #4]
 112:display/menu.c **** 			{	HandleCoilData->drive2_turn_in_minute = MIN_VALUE_TURN;	}
 292              		.loc 1 112 4 is_stmt 1 view .LVU86
 112:display/menu.c **** 			{	HandleCoilData->drive2_turn_in_minute = MIN_VALUE_TURN;	}
 293              		.loc 1 112 22 is_stmt 0 view .LVU87
 294 00be A388     		ldrh	r3, [r4, #4]	@ unaligned
 112:display/menu.c **** 			{	HandleCoilData->drive2_turn_in_minute = MIN_VALUE_TURN;	}
 295              		.loc 1 112 7 view .LVU88
 296 00c0 962B     		cmp	r3, #150
 297 00c2 12D9     		bls	.L15
 113:display/menu.c **** 			else
 298              		.loc 1 113 6 is_stmt 1 view .LVU89
 113:display/menu.c **** 			else
 299              		.loc 1 113 44 is_stmt 0 view .LVU90
 300 00c4 0C23     		movs	r3, #12
 301 00c6 2371     		strb	r3, [r4, #4]
 302 00c8 0023     		movs	r3, #0
 303 00ca 6371     		strb	r3, [r4, #5]
 304              	.L16:
 119:display/menu.c **** 			drive2_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ –≤—Ä–∞—â–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 305              		.loc 1 119 4 is_stmt 1 view .LVU91
 119:display/menu.c **** 			drive2_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ –≤—Ä–∞—â–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 306              		.loc 1 119 38 is_stmt 0 view .LVU92
 307 00cc A088     		ldrh	r0, [r4, #4]	@ unaligned
 308 00ce FFF7FEFF 		bl	calc_rotation_speed
 309              	.LVL24:
 119:display/menu.c **** 			drive2_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ –≤—Ä–∞—â–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 310              		.loc 1 119 36 view .LVU93
 311 00d2 6080     		strh	r0, [r4, #2]	@ unaligned
 120:display/menu.c **** 			drive1_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ —Å–¥–≤–∏–≥–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 312              		.loc 1 120 4 is_stmt 1 view .LVU94
 313 00d4 2046     		mov	r0, r4
 314 00d6 FFF7FEFF 		bl	drive2_turn
 315              	.LVL25:
 121:display/menu.c **** 			setup_speed_screen (HandleCoilData->drive2_turn_in_minute);
 316              		.loc 1 121 4 view .LVU95
 317 00da 2046     		mov	r0, r4
 318 00dc FFF7FEFF 		bl	drive1_turn
 319              	.LVL26:
 122:display/menu.c **** 		}	
 320              		.loc 1 122 4 view .LVU96
 321 00e0 B4F90400 		ldrsh	r0, [r4, #4]	@ unaligned
 322 00e4 FFF7FEFF 		bl	setup_speed_screen
 323              	.LVL27:
ARM GAS  /tmp/ccL9TQW7.s 			page 10


 324 00e8 AEE7     		b	.L14
 325              	.L15:
 116:display/menu.c **** 				{	HandleCoilData->drive2_turn_in_minute = MAX_VALUE_TURN;	}
 326              		.loc 1 116 5 view .LVU97
 116:display/menu.c **** 				{	HandleCoilData->drive2_turn_in_minute = MAX_VALUE_TURN;	}
 327              		.loc 1 116 8 is_stmt 0 view .LVU98
 328 00ea 0B2B     		cmp	r3, #11
 329 00ec EED8     		bhi	.L16
 117:display/menu.c **** 			}
 330              		.loc 1 117 7 is_stmt 1 view .LVU99
 117:display/menu.c **** 			}
 331              		.loc 1 117 45 is_stmt 0 view .LVU100
 332 00ee 6FF06903 		mvn	r3, #105
 333 00f2 2371     		strb	r3, [r4, #4]
 334 00f4 0023     		movs	r3, #0
 335 00f6 6371     		strb	r3, [r4, #5]
 336 00f8 E8E7     		b	.L16
 337              	.L35:
 138:display/menu.c **** 			HandleEncData->delta = 0;
 338              		.loc 1 138 4 is_stmt 1 view .LVU101
 138:display/menu.c **** 			HandleEncData->delta = 0;
 339              		.loc 1 138 49 is_stmt 0 view .LVU102
 340 00fa 95F90430 		ldrsb	r3, [r5, #4]
 341 00fe 9BB2     		uxth	r3, r3
 138:display/menu.c **** 			HandleEncData->delta = 0;
 342              		.loc 1 138 35 view .LVU103
 343 0100 03EB8303 		add	r3, r3, r3, lsl #2
 344 0104 9BB2     		uxth	r3, r3
 138:display/menu.c **** 			HandleEncData->delta = 0;
 345              		.loc 1 138 31 view .LVU104
 346 0106 E288     		ldrh	r2, [r4, #6]	@ unaligned
 347 0108 1344     		add	r3, r3, r2
 348 010a E380     		strh	r3, [r4, #6]	@ unaligned
 139:display/menu.c **** 			if (HandleCoilData->gear_ratio > MAX_VALUE_RATIO)
 349              		.loc 1 139 4 is_stmt 1 view .LVU105
 139:display/menu.c **** 			if (HandleCoilData->gear_ratio > MAX_VALUE_RATIO)
 350              		.loc 1 139 25 is_stmt 0 view .LVU106
 351 010c 0023     		movs	r3, #0
 352 010e 2B71     		strb	r3, [r5, #4]
 140:display/menu.c **** 			{	HandleCoilData->gear_ratio = MIN_VALUE_RATIO;	}
 353              		.loc 1 140 4 is_stmt 1 view .LVU107
 140:display/menu.c **** 			{	HandleCoilData->gear_ratio = MIN_VALUE_RATIO;	}
 354              		.loc 1 140 22 is_stmt 0 view .LVU108
 355 0110 E388     		ldrh	r3, [r4, #6]	@ unaligned
 140:display/menu.c **** 			{	HandleCoilData->gear_ratio = MIN_VALUE_RATIO;	}
 356              		.loc 1 140 7 view .LVU109
 357 0112 B3F5967F 		cmp	r3, #300
 358 0116 0ED9     		bls	.L19
 141:display/menu.c **** 			else
 359              		.loc 1 141 6 is_stmt 1 view .LVU110
 141:display/menu.c **** 			else
 360              		.loc 1 141 33 is_stmt 0 view .LVU111
 361 0118 1923     		movs	r3, #25
 362 011a A371     		strb	r3, [r4, #6]
 363 011c 0023     		movs	r3, #0
 364 011e E371     		strb	r3, [r4, #7]
 365              	.L20:
ARM GAS  /tmp/ccL9TQW7.s 			page 11


 147:display/menu.c **** 			drive1_turn (HandleCoilData);	//–∑–∞–ø—É—Å–∫ —Å–¥–≤–∏–≥–∞—é—â–µ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è
 366              		.loc 1 147 4 is_stmt 1 view .LVU112
 367 0120 2046     		mov	r0, r4
 368 0122 FFF7FEFF 		bl	drive2_turn
 369              	.LVL28:
 148:display/menu.c **** 			setup_ratio_screen (HandleCoilData->gear_ratio);
 370              		.loc 1 148 4 view .LVU113
 371 0126 2046     		mov	r0, r4
 372 0128 FFF7FEFF 		bl	drive1_turn
 373              	.LVL29:
 149:display/menu.c **** 		}	
 374              		.loc 1 149 4 view .LVU114
 375 012c B4F90600 		ldrsh	r0, [r4, #6]	@ unaligned
 376 0130 FFF7FEFF 		bl	setup_ratio_screen
 377              	.LVL30:
 378 0134 97E7     		b	.L18
 379              	.L19:
 144:display/menu.c **** 				{	HandleCoilData->gear_ratio = MAX_VALUE_RATIO;	}
 380              		.loc 1 144 5 view .LVU115
 144:display/menu.c **** 				{	HandleCoilData->gear_ratio = MAX_VALUE_RATIO;	}
 381              		.loc 1 144 8 is_stmt 0 view .LVU116
 382 0136 182B     		cmp	r3, #24
 383 0138 F2D8     		bhi	.L20
 145:display/menu.c **** 			}
 384              		.loc 1 145 7 is_stmt 1 view .LVU117
 145:display/menu.c **** 			}
 385              		.loc 1 145 34 is_stmt 0 view .LVU118
 386 013a 2C23     		movs	r3, #44
 387 013c A371     		strb	r3, [r4, #6]
 388 013e 0123     		movs	r3, #1
 389 0140 E371     		strb	r3, [r4, #7]
 390 0142 EDE7     		b	.L20
 391              	.L24:
 392              	.LBB4:
 168:display/menu.c **** 		while (1)
 169:display/menu.c **** 		{
 170:display/menu.c **** 			if (read_encoder (HandleEncData) == ON) //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏–∑–º–µ–Ω
 171:display/menu.c **** 			{
 172:display/menu.c **** 				HandleCoilData->set_coil[count] += HandleEncData->delta; //–ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏—Ä–∞—â–
 173:display/menu.c **** 				HandleEncData->delta = 0;				
 174:display/menu.c **** 				if (HandleCoilData->set_coil[count] < MIN_VALUE_COIL)
 175:display/menu.c **** 				{	HandleCoilData->set_coil[count] = MAX_VALUE_COIL;	}
 176:display/menu.c **** 				else
 177:display/menu.c **** 				{
 178:display/menu.c **** 					if (HandleCoilData->set_coil[count] > MAX_VALUE_COIL)
 393              		.loc 1 178 6 is_stmt 1 view .LVU119
 394              		.loc 1 178 9 is_stmt 0 view .LVU120
 395 0144 FA2B     		cmp	r3, #250
 396 0146 07D9     		bls	.L25
 179:display/menu.c **** 					{	HandleCoilData->set_coil[count] = MIN_VALUE_COIL;	}
 397              		.loc 1 179 8 is_stmt 1 view .LVU121
 398              		.loc 1 179 40 is_stmt 0 view .LVU122
 399 0148 331D     		adds	r3, r6, #4
 400 014a 0122     		movs	r2, #1
 401 014c 04F81320 		strb	r2, [r4, r3, lsl #1]
 402 0150 04EB4303 		add	r3, r4, r3, lsl #1
 403 0154 0022     		movs	r2, #0
ARM GAS  /tmp/ccL9TQW7.s 			page 12


 404 0156 5A70     		strb	r2, [r3, #1]
 405              	.L25:
 180:display/menu.c **** 				}
 181:display/menu.c **** 				setup_coil_screen (count+1, HandleCoilData->set_coil[count]); //–∑–∞—Å—Ç–∞–≤–∫–∞ —Ä–µ–∂–∏–º–∞ —
 406              		.loc 1 181 5 is_stmt 1 view .LVU123
 407              		.loc 1 181 57 is_stmt 0 view .LVU124
 408 0158 331D     		adds	r3, r6, #4
 409              		.loc 1 181 5 view .LVU125
 410 015a 34F81310 		ldrh	r1, [r4, r3, lsl #1]	@ unaligned
 411 015e 3846     		mov	r0, r7
 412 0160 FFF7FEFF 		bl	setup_coil_screen
 413              	.LVL31:
 414              	.L23:
 182:display/menu.c **** 			}
 183:display/menu.c **** 			if ((key_code = scan_keys()) != NO_KEY) //–µ—Å–ª–∏ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞
 415              		.loc 1 183 4 is_stmt 1 view .LVU126
 416              		.loc 1 183 20 is_stmt 0 view .LVU127
 417 0164 FFF7FEFF 		bl	scan_keys
 418              	.LVL32:
 419              		.loc 1 183 7 view .LVU128
 420 0168 E8B9     		cbnz	r0, .L37
 421              	.LVL33:
 422              	.L26:
 168:display/menu.c **** 		{
 423              		.loc 1 168 3 is_stmt 1 view .LVU129
 170:display/menu.c **** 			{
 424              		.loc 1 170 4 view .LVU130
 170:display/menu.c **** 			{
 425              		.loc 1 170 8 is_stmt 0 view .LVU131
 426 016a 2846     		mov	r0, r5
 427 016c FFF7FEFF 		bl	read_encoder
 428              	.LVL34:
 170:display/menu.c **** 			{
 429              		.loc 1 170 7 view .LVU132
 430 0170 0128     		cmp	r0, #1
 431 0172 F7D1     		bne	.L23
 172:display/menu.c **** 				HandleEncData->delta = 0;				
 432              		.loc 1 172 5 is_stmt 1 view .LVU133
 172:display/menu.c **** 				HandleEncData->delta = 0;				
 433              		.loc 1 172 53 is_stmt 0 view .LVU134
 434 0174 95F90430 		ldrsb	r3, [r5, #4]
 435 0178 9BB2     		uxth	r3, r3
 172:display/menu.c **** 				HandleEncData->delta = 0;				
 436              		.loc 1 172 37 view .LVU135
 437 017a 321D     		adds	r2, r6, #4
 438 017c 34F81210 		ldrh	r1, [r4, r2, lsl #1]	@ unaligned
 439 0180 0B44     		add	r3, r3, r1
 440 0182 24F81230 		strh	r3, [r4, r2, lsl #1]	@ unaligned
 173:display/menu.c **** 				if (HandleCoilData->set_coil[count] < MIN_VALUE_COIL)
 441              		.loc 1 173 5 is_stmt 1 view .LVU136
 173:display/menu.c **** 				if (HandleCoilData->set_coil[count] < MIN_VALUE_COIL)
 442              		.loc 1 173 26 is_stmt 0 view .LVU137
 443 0186 0023     		movs	r3, #0
 444 0188 2B71     		strb	r3, [r5, #4]
 174:display/menu.c **** 				{	HandleCoilData->set_coil[count] = MAX_VALUE_COIL;	}
 445              		.loc 1 174 5 is_stmt 1 view .LVU138
 174:display/menu.c **** 				{	HandleCoilData->set_coil[count] = MAX_VALUE_COIL;	}
ARM GAS  /tmp/ccL9TQW7.s 			page 13


 446              		.loc 1 174 33 is_stmt 0 view .LVU139
 447 018a 34F81230 		ldrh	r3, [r4, r2, lsl #1]	@ unaligned
 174:display/menu.c **** 				{	HandleCoilData->set_coil[count] = MAX_VALUE_COIL;	}
 448              		.loc 1 174 8 view .LVU140
 449 018e 002B     		cmp	r3, #0
 450 0190 D8D1     		bne	.L24
 175:display/menu.c **** 				else
 451              		.loc 1 175 7 is_stmt 1 view .LVU141
 175:display/menu.c **** 				else
 452              		.loc 1 175 39 is_stmt 0 view .LVU142
 453 0192 1346     		mov	r3, r2
 454 0194 6FF00502 		mvn	r2, #5
 455 0198 04F81320 		strb	r2, [r4, r3, lsl #1]
 456 019c 04EB4303 		add	r3, r4, r3, lsl #1
 457 01a0 0022     		movs	r2, #0
 458 01a2 5A70     		strb	r2, [r3, #1]
 459 01a4 D8E7     		b	.L25
 460              	.LVL35:
 461              	.L37:
 184:display/menu.c **** 			{
 185:display/menu.c **** 				HandleCoilData->remains_coil[count] = HandleCoilData->set_coil[count]; //—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—
 462              		.loc 1 185 5 is_stmt 1 view .LVU143
 463              		.loc 1 185 67 is_stmt 0 view .LVU144
 464 01a6 321D     		adds	r2, r6, #4
 465 01a8 34F81210 		ldrh	r1, [r4, r2, lsl #1]	@ unaligned
 466              		.loc 1 185 41 view .LVU145
 467 01ac 04EB4202 		add	r2, r4, r2, lsl #1
 468 01b0 D180     		strh	r1, [r2, #6]	@ unaligned
 186:display/menu.c **** 				if (key_code == KEY_SETUP_LONG) //–¥–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ —ç–Ω–∫–æ–¥–µ—Ä–∞ -
 469              		.loc 1 186 5 is_stmt 1 view .LVU146
 470              		.loc 1 186 8 is_stmt 0 view .LVU147
 471 01b2 0628     		cmp	r0, #6
 472 01b4 03D0     		beq	.L38
 187:display/menu.c **** 				{		
 188:display/menu.c **** 					HandleCoilData->set_numb_winding = count+1; //–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±
 189:display/menu.c **** 					HandleCoilData->complet_winding = 0; //–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞–º–æ—Ç–∞–Ω–
 190:display/menu.c **** 					for (uint8_t i = count+1; i < MAX_NUMBER_COIL; i++)
 191:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 192:display/menu.c **** 					SaveCoilData (HandleCoilData->coil_buffer);
 193:display/menu.c **** 					return;
 194:display/menu.c **** 				}	
 195:display/menu.c **** 				else
 196:display/menu.c **** 				{
 197:display/menu.c **** 					if (key_code == KEY_SETUP_SHORT) //–∫–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ —ç–Ω–∫–æ–¥–µ—Ä
 473              		.loc 1 197 6 is_stmt 1 view .LVU148
 474              		.loc 1 197 9 is_stmt 0 view .LVU149
 475 01b6 0528     		cmp	r0, #5
 476 01b8 D7D1     		bne	.L26
 165:display/menu.c **** 	{
 477              		.loc 1 165 56 view .LVU150
 478 01ba 3B46     		mov	r3, r7
 479 01bc 67E7     		b	.L22
 480              	.L38:
 188:display/menu.c **** 					HandleCoilData->complet_winding = 0; //–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞–º–æ—Ç–∞–Ω–
 481              		.loc 1 188 6 is_stmt 1 view .LVU151
 188:display/menu.c **** 					HandleCoilData->complet_winding = 0; //–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞–º–æ—Ç–∞–Ω–
 482              		.loc 1 188 39 is_stmt 0 view .LVU152
ARM GAS  /tmp/ccL9TQW7.s 			page 14


 483 01be 2770     		strb	r7, [r4]
 189:display/menu.c **** 					for (uint8_t i = count+1; i < MAX_NUMBER_COIL; i++)
 484              		.loc 1 189 6 is_stmt 1 view .LVU153
 189:display/menu.c **** 					for (uint8_t i = count+1; i < MAX_NUMBER_COIL; i++)
 485              		.loc 1 189 38 is_stmt 0 view .LVU154
 486 01c0 0023     		movs	r3, #0
 487 01c2 6370     		strb	r3, [r4, #1]
 190:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 488              		.loc 1 190 6 is_stmt 1 view .LVU155
 489              	.LBB3:
 190:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 490              		.loc 1 190 11 view .LVU156
 491              	.LVL36:
 190:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 492              		.loc 1 190 6 is_stmt 0 view .LVU157
 493 01c4 0AE0     		b	.L28
 494              	.L29:
 191:display/menu.c **** 					SaveCoilData (HandleCoilData->coil_buffer);
 495              		.loc 1 191 8 is_stmt 1 discriminator 3 view .LVU158
 191:display/menu.c **** 					SaveCoilData (HandleCoilData->coil_buffer);
 496              		.loc 1 191 70 is_stmt 0 discriminator 3 view .LVU159
 497 01c6 3B1D     		adds	r3, r7, #4
 498 01c8 0022     		movs	r2, #0
 499 01ca 04F81320 		strb	r2, [r4, r3, lsl #1]
 500 01ce 04EB4303 		add	r3, r4, r3, lsl #1
 501 01d2 5A70     		strb	r2, [r3, #1]
 191:display/menu.c **** 					SaveCoilData (HandleCoilData->coil_buffer);
 502              		.loc 1 191 40 discriminator 3 view .LVU160
 503 01d4 9A71     		strb	r2, [r3, #6]
 504 01d6 DA71     		strb	r2, [r3, #7]
 190:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 505              		.loc 1 190 53 is_stmt 1 discriminator 3 view .LVU161
 190:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 506              		.loc 1 190 54 is_stmt 0 discriminator 3 view .LVU162
 507 01d8 0137     		adds	r7, r7, #1
 508              	.LVL37:
 190:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 509              		.loc 1 190 54 discriminator 3 view .LVU163
 510 01da FFB2     		uxtb	r7, r7
 511              	.LVL38:
 512              	.L28:
 190:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 513              		.loc 1 190 32 is_stmt 1 discriminator 1 view .LVU164
 190:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 514              		.loc 1 190 6 is_stmt 0 discriminator 1 view .LVU165
 515 01dc 022F     		cmp	r7, #2
 516 01de F2D9     		bls	.L29
 190:display/menu.c **** 					{	HandleCoilData->remains_coil[i] = HandleCoilData->set_coil[i] = 0;	}
 517              		.loc 1 190 6 discriminator 1 view .LVU166
 518              	.LBE3:
 192:display/menu.c **** 					return;
 519              		.loc 1 192 6 is_stmt 1 view .LVU167
 520 01e0 2046     		mov	r0, r4
 521              	.LVL39:
 192:display/menu.c **** 					return;
 522              		.loc 1 192 6 is_stmt 0 view .LVU168
 523 01e2 FFF7FEFF 		bl	SaveCoilData
ARM GAS  /tmp/ccL9TQW7.s 			page 15


 524              	.LVL40:
 193:display/menu.c **** 				}	
 525              		.loc 1 193 6 is_stmt 1 view .LVU169
 526              	.L11:
 193:display/menu.c **** 				}	
 527              		.loc 1 193 6 is_stmt 0 view .LVU170
 528              	.LBE4:
 198:display/menu.c **** 					{	break;	}
 199:display/menu.c **** 				}
 200:display/menu.c **** 			}			
 201:display/menu.c **** 		}
 202:display/menu.c **** 	}
 203:display/menu.c **** 	HandleCoilData->set_numb_winding = MAX_NUMBER_COIL; //–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 
 204:display/menu.c **** 	HandleCoilData->complet_winding = 0;	//–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞–º–æ—Ç–∞–Ω–Ω—ã—
 205:display/menu.c **** 	SaveCoilData (HandleCoilData->coil_buffer);
 206:display/menu.c **** 	return;
 207:display/menu.c **** }
 529              		.loc 1 207 1 view .LVU171
 530 01e6 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 531              	.LVL41:
 532              	.L36:
 203:display/menu.c **** 	HandleCoilData->complet_winding = 0;	//–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞–º–æ—Ç–∞–Ω–Ω—ã—
 533              		.loc 1 203 2 is_stmt 1 view .LVU172
 203:display/menu.c **** 	HandleCoilData->complet_winding = 0;	//–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞–º–æ—Ç–∞–Ω–Ω—ã—
 534              		.loc 1 203 35 is_stmt 0 view .LVU173
 535 01e8 0323     		movs	r3, #3
 536              	.LVL42:
 203:display/menu.c **** 	HandleCoilData->complet_winding = 0;	//–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞–º–æ—Ç–∞–Ω–Ω—ã—
 537              		.loc 1 203 35 view .LVU174
 538 01ea 2370     		strb	r3, [r4]
 204:display/menu.c **** 	SaveCoilData (HandleCoilData->coil_buffer);
 539              		.loc 1 204 2 is_stmt 1 view .LVU175
 204:display/menu.c **** 	SaveCoilData (HandleCoilData->coil_buffer);
 540              		.loc 1 204 34 is_stmt 0 view .LVU176
 541 01ec 0023     		movs	r3, #0
 542 01ee 6370     		strb	r3, [r4, #1]
 205:display/menu.c **** 	return;
 543              		.loc 1 205 2 is_stmt 1 view .LVU177
 544 01f0 2046     		mov	r0, r4
 545 01f2 FFF7FEFF 		bl	SaveCoilData
 546              	.LVL43:
 206:display/menu.c **** }
 547              		.loc 1 206 2 view .LVU178
 548 01f6 F6E7     		b	.L11
 549              	.L40:
 550              		.align	2
 551              	.L39:
 552 01f8 00000000 		.word	status_drives
 553              		.cfi_endproc
 554              	.LFE952:
 556              		.section	.text.turn_drive_menu,"ax",%progbits
 557              		.align	1
 558              		.global	turn_drive_menu
 559              		.syntax unified
 560              		.thumb
 561              		.thumb_func
 563              	turn_drive_menu:
ARM GAS  /tmp/ccL9TQW7.s 			page 16


 564              	.LVL44:
 565              	.LFB954:
 208:display/menu.c **** 
 209:display/menu.c **** //-------------------------------------------------------------------------------------------------
 210:display/menu.c **** uint8_t menu_select_preset (encoder_data_t * HandleEncData, coil_data_t ** HandleBufCoilData)
 211:display/menu.c **** {
 212:display/menu.c **** 	__IO uint16_t key_code = NO_KEY;
 213:display/menu.c **** 	
 214:display/menu.c **** 	menu_select_preset_screen (drive_mode);
 215:display/menu.c **** 	while (1)
 216:display/menu.c **** 	{		
 217:display/menu.c **** 		if (read_encoder (HandleEncData) == ON) //—á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —ç–Ω–∫–æ–¥–µ—Ä–∞
 218:display/menu.c **** 		{
 219:display/menu.c **** 			drive_mode += HandleEncData->delta; //–∏–∑–º–µ–Ω–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –Ω–æ–º–µ—Ä –ø—Ä
 220:display/menu.c **** 			HandleEncData->delta = 0;	
 221:display/menu.c **** 			if (drive_mode > PRESET4)
 222:display/menu.c **** 			{	drive_mode = PRESET1;	}
 223:display/menu.c **** 			else
 224:display/menu.c **** 			{	
 225:display/menu.c **** 				if (drive_mode < PRESET1) 
 226:display/menu.c **** 				{	drive_mode = PRESET4;	}
 227:display/menu.c **** 			}	
 228:display/menu.c **** 			menu_select_preset_screen (drive_mode);				
 229:display/menu.c **** 		}		
 230:display/menu.c **** 			
 231:display/menu.c **** 		if ((key_code = scan_keys()) != NO_KEY)
 232:display/menu.c **** 		{
 233:display/menu.c **** 			switch (key_code) //–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–¥–∞ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏
 234:display/menu.c **** 			{	
 235:display/menu.c **** 				case KEY_SETUP_SHORT:
 236:display/menu.c **** 					setup_menu (HandleEncData, *(HandleBufCoilData+drive_mode-1)); //–ø–µ—Ä–µ—Ö–æ–¥ –≤ –º–µ–Ω—é –Ω
 237:display/menu.c **** 					break;
 238:display/menu.c **** 				
 239:display/menu.c **** 				case KEY_SETUP_LONG:
 240:display/menu.c **** 					turn_drive_menu (drive_mode, HandleBufCoilData[drive_mode-1], 0); //–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–
 241:display/menu.c **** 					return drive_mode; //–≤—ã—Ö–æ–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
 242:display/menu.c **** 					break;
 243:display/menu.c **** 			}
 244:display/menu.c **** 			menu_select_preset_screen (drive_mode);		
 245:display/menu.c **** 		}
 246:display/menu.c **** 	}
 247:display/menu.c **** }
 248:display/menu.c **** 
 249:display/menu.c **** 
 250:display/menu.c **** //-------------------------------------------------------------------------------------------------
 251:display/menu.c **** void turn_drive_menu (uint8_t numb_preset, coil_data_t * HandleCoilData, uint8_t numb_coil)
 252:display/menu.c **** {
 566              		.loc 1 252 1 view -0
 567              		.cfi_startproc
 568              		@ args = 0, pretend = 0, frame = 0
 569              		@ frame_needed = 0, uses_anonymous_args = 0
 570              		.loc 1 252 1 is_stmt 0 view .LVU180
 571 0000 08B5     		push	{r3, lr}
 572              	.LCFI4:
 573              		.cfi_def_cfa_offset 8
 574              		.cfi_offset 3, -8
 575              		.cfi_offset 14, -4
ARM GAS  /tmp/ccL9TQW7.s 			page 17


 253:display/menu.c **** 	default_screen (numb_preset, HandleCoilData->remains_coil[numb_coil], HandleCoilData->set_coil[num
 576              		.loc 1 253 2 is_stmt 1 view .LVU181
 577              		.loc 1 253 59 is_stmt 0 view .LVU182
 578 0002 02F1040C 		add	ip, r2, #4
 579 0006 01EB4C0E 		add	lr, r1, ip, lsl #1
 580              		.loc 1 253 2 view .LVU183
 581 000a 0132     		adds	r2, r2, #1
 582              	.LVL45:
 583              		.loc 1 253 2 view .LVU184
 584 000c D3B2     		uxtb	r3, r2
 585 000e 31F91C20 		ldrsh	r2, [r1, ip, lsl #1]	@ unaligned
 586 0012 BEF90610 		ldrsh	r1, [lr, #6]	@ unaligned
 587              	.LVL46:
 588              		.loc 1 253 2 view .LVU185
 589 0016 FFF7FEFF 		bl	default_screen
 590              	.LVL47:
 254:display/menu.c **** }
 591              		.loc 1 254 1 view .LVU186
 592 001a 08BD     		pop	{r3, pc}
 593              		.cfi_endproc
 594              	.LFE954:
 596              		.section	.text.menu_select_preset,"ax",%progbits
 597              		.align	1
 598              		.global	menu_select_preset
 599              		.syntax unified
 600              		.thumb
 601              		.thumb_func
 603              	menu_select_preset:
 604              	.LVL48:
 605              	.LFB953:
 211:display/menu.c **** 	__IO uint16_t key_code = NO_KEY;
 606              		.loc 1 211 1 is_stmt 1 view -0
 607              		.cfi_startproc
 608              		@ args = 0, pretend = 0, frame = 8
 609              		@ frame_needed = 0, uses_anonymous_args = 0
 211:display/menu.c **** 	__IO uint16_t key_code = NO_KEY;
 610              		.loc 1 211 1 is_stmt 0 view .LVU188
 611 0000 30B5     		push	{r4, r5, lr}
 612              	.LCFI5:
 613              		.cfi_def_cfa_offset 12
 614              		.cfi_offset 4, -12
 615              		.cfi_offset 5, -8
 616              		.cfi_offset 14, -4
 617 0002 83B0     		sub	sp, sp, #12
 618              	.LCFI6:
 619              		.cfi_def_cfa_offset 24
 620 0004 0446     		mov	r4, r0
 621 0006 0D46     		mov	r5, r1
 212:display/menu.c **** 	
 622              		.loc 1 212 2 is_stmt 1 view .LVU189
 212:display/menu.c **** 	
 623              		.loc 1 212 16 is_stmt 0 view .LVU190
 624 0008 0023     		movs	r3, #0
 625 000a ADF80630 		strh	r3, [sp, #6]	@ movhi
 214:display/menu.c **** 	while (1)
 626              		.loc 1 214 2 is_stmt 1 view .LVU191
 627 000e 274B     		ldr	r3, .L55
ARM GAS  /tmp/ccL9TQW7.s 			page 18


 628 0010 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 629              	.LVL49:
 214:display/menu.c **** 	while (1)
 630              		.loc 1 214 2 is_stmt 0 view .LVU192
 631 0012 FFF7FEFF 		bl	menu_select_preset_screen
 632              	.LVL50:
 214:display/menu.c **** 	while (1)
 633              		.loc 1 214 2 view .LVU193
 634 0016 0EE0     		b	.L47
 635              	.L45:
 225:display/menu.c **** 				{	drive_mode = PRESET4;	}
 636              		.loc 1 225 5 is_stmt 1 view .LVU194
 225:display/menu.c **** 				{	drive_mode = PRESET4;	}
 637              		.loc 1 225 20 is_stmt 0 view .LVU195
 638 0018 244B     		ldr	r3, .L55
 639 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 225:display/menu.c **** 				{	drive_mode = PRESET4;	}
 640              		.loc 1 225 8 view .LVU196
 641 001c 13B9     		cbnz	r3, .L46
 226:display/menu.c **** 			}	
 642              		.loc 1 226 7 is_stmt 1 view .LVU197
 226:display/menu.c **** 			}	
 643              		.loc 1 226 18 is_stmt 0 view .LVU198
 644 001e 234B     		ldr	r3, .L55
 645 0020 0422     		movs	r2, #4
 646 0022 1A70     		strb	r2, [r3]
 647              	.L46:
 228:display/menu.c **** 		}		
 648              		.loc 1 228 4 is_stmt 1 view .LVU199
 649 0024 214B     		ldr	r3, .L55
 650 0026 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 651 0028 FFF7FEFF 		bl	menu_select_preset_screen
 652              	.LVL51:
 653              	.L44:
 231:display/menu.c **** 		{
 654              		.loc 1 231 3 view .LVU200
 231:display/menu.c **** 		{
 655              		.loc 1 231 19 is_stmt 0 view .LVU201
 656 002c FFF7FEFF 		bl	scan_keys
 657              	.LVL52:
 231:display/menu.c **** 		{
 658              		.loc 1 231 17 view .LVU202
 659 0030 ADF80600 		strh	r0, [sp, #6]	@ movhi
 231:display/menu.c **** 		{
 660              		.loc 1 231 6 view .LVU203
 661 0034 A0B9     		cbnz	r0, .L54
 662              	.L47:
 215:display/menu.c **** 	{		
 663              		.loc 1 215 2 is_stmt 1 view .LVU204
 217:display/menu.c **** 		{
 664              		.loc 1 217 3 view .LVU205
 217:display/menu.c **** 		{
 665              		.loc 1 217 7 is_stmt 0 view .LVU206
 666 0036 2046     		mov	r0, r4
 667 0038 FFF7FEFF 		bl	read_encoder
 668              	.LVL53:
 217:display/menu.c **** 		{
ARM GAS  /tmp/ccL9TQW7.s 			page 19


 669              		.loc 1 217 6 view .LVU207
 670 003c 0128     		cmp	r0, #1
 671 003e F5D1     		bne	.L44
 219:display/menu.c **** 			HandleEncData->delta = 0;	
 672              		.loc 1 219 4 is_stmt 1 view .LVU208
 219:display/menu.c **** 			HandleEncData->delta = 0;	
 673              		.loc 1 219 31 is_stmt 0 view .LVU209
 674 0040 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 219:display/menu.c **** 			HandleEncData->delta = 0;	
 675              		.loc 1 219 15 view .LVU210
 676 0042 1A4A     		ldr	r2, .L55
 677 0044 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 678 0046 0B44     		add	r3, r3, r1
 679 0048 DBB2     		uxtb	r3, r3
 680 004a 1370     		strb	r3, [r2]
 220:display/menu.c **** 			if (drive_mode > PRESET4)
 681              		.loc 1 220 4 is_stmt 1 view .LVU211
 220:display/menu.c **** 			if (drive_mode > PRESET4)
 682              		.loc 1 220 25 is_stmt 0 view .LVU212
 683 004c 0023     		movs	r3, #0
 684 004e 2371     		strb	r3, [r4, #4]
 221:display/menu.c **** 			{	drive_mode = PRESET1;	}
 685              		.loc 1 221 4 is_stmt 1 view .LVU213
 221:display/menu.c **** 			{	drive_mode = PRESET1;	}
 686              		.loc 1 221 19 is_stmt 0 view .LVU214
 687 0050 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 688 0052 DBB2     		uxtb	r3, r3
 221:display/menu.c **** 			{	drive_mode = PRESET1;	}
 689              		.loc 1 221 7 view .LVU215
 690 0054 042B     		cmp	r3, #4
 691 0056 DFD9     		bls	.L45
 222:display/menu.c **** 			else
 692              		.loc 1 222 6 is_stmt 1 view .LVU216
 222:display/menu.c **** 			else
 693              		.loc 1 222 17 is_stmt 0 view .LVU217
 694 0058 1346     		mov	r3, r2
 695 005a 0122     		movs	r2, #1
 696 005c 1A70     		strb	r2, [r3]
 697 005e E1E7     		b	.L46
 698              	.L54:
 233:display/menu.c **** 			{	
 699              		.loc 1 233 4 is_stmt 1 view .LVU218
 700 0060 BDF80630 		ldrh	r3, [sp, #6]
 701 0064 9BB2     		uxth	r3, r3
 702 0066 052B     		cmp	r3, #5
 703 0068 06D0     		beq	.L48
 704 006a 062B     		cmp	r3, #6
 705 006c 0FD0     		beq	.L49
 706              	.L50:
 242:display/menu.c **** 			}
 707              		.loc 1 242 6 view .LVU219
 244:display/menu.c **** 		}
 708              		.loc 1 244 4 view .LVU220
 709 006e 0F4B     		ldr	r3, .L55
 710 0070 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 711 0072 FFF7FEFF 		bl	menu_select_preset_screen
 712              	.LVL54:
ARM GAS  /tmp/ccL9TQW7.s 			page 20


 713 0076 DEE7     		b	.L47
 714              	.L48:
 236:display/menu.c **** 					break;
 715              		.loc 1 236 6 view .LVU221
 236:display/menu.c **** 					break;
 716              		.loc 1 236 63 is_stmt 0 view .LVU222
 717 0078 0C4B     		ldr	r3, .L55
 718 007a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 719 007c 03F18043 		add	r3, r3, #1073741824
 720 0080 013B     		subs	r3, r3, #1
 236:display/menu.c **** 					break;
 721              		.loc 1 236 6 view .LVU223
 722 0082 55F82310 		ldr	r1, [r5, r3, lsl #2]
 723 0086 2046     		mov	r0, r4
 724 0088 FFF7FEFF 		bl	setup_menu
 725              	.LVL55:
 237:display/menu.c **** 				
 726              		.loc 1 237 6 is_stmt 1 view .LVU224
 727 008c EFE7     		b	.L50
 728              	.L49:
 240:display/menu.c **** 					return drive_mode; //–≤—ã—Ö–æ–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
 729              		.loc 1 240 6 view .LVU225
 730 008e 074C     		ldr	r4, .L55
 731              	.LVL56:
 240:display/menu.c **** 					return drive_mode; //–≤—ã—Ö–æ–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
 732              		.loc 1 240 6 is_stmt 0 view .LVU226
 733 0090 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 240:display/menu.c **** 					return drive_mode; //–≤—ã—Ö–æ–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
 734              		.loc 1 240 52 view .LVU227
 735 0092 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 736 0094 03F18043 		add	r3, r3, #1073741824
 737 0098 013B     		subs	r3, r3, #1
 240:display/menu.c **** 					return drive_mode; //–≤—ã—Ö–æ–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
 738              		.loc 1 240 6 view .LVU228
 739 009a 0022     		movs	r2, #0
 740 009c 55F82310 		ldr	r1, [r5, r3, lsl #2]
 741 00a0 FFF7FEFF 		bl	turn_drive_menu
 742              	.LVL57:
 241:display/menu.c **** 					break;
 743              		.loc 1 241 6 is_stmt 1 view .LVU229
 241:display/menu.c **** 					break;
 744              		.loc 1 241 13 is_stmt 0 view .LVU230
 745 00a4 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 746 00a6 C0B2     		uxtb	r0, r0
 247:display/menu.c **** 
 747              		.loc 1 247 1 view .LVU231
 748 00a8 03B0     		add	sp, sp, #12
 749              	.LCFI7:
 750              		.cfi_def_cfa_offset 12
 751              		@ sp needed
 752 00aa 30BD     		pop	{r4, r5, pc}
 753              	.LVL58:
 754              	.L56:
 247:display/menu.c **** 
 755              		.loc 1 247 1 view .LVU232
 756              		.align	2
 757              	.L55:
ARM GAS  /tmp/ccL9TQW7.s 			page 21


 758 00ac 00000000 		.word	.LANCHOR1
 759              		.cfi_endproc
 760              	.LFE953:
 762              		.section	.text.main_loop,"ax",%progbits
 763              		.align	1
 764              		.global	main_loop
 765              		.syntax unified
 766              		.thumb
 767              		.thumb_func
 769              	main_loop:
 770              	.LVL59:
 771              	.LFB951:
  43:display/menu.c **** 	__IO uint16_t key_code = NO_KEY; //–∫–æ–¥ –∫–Ω–æ–ø–∫–∏
 772              		.loc 1 43 1 is_stmt 1 view -0
 773              		.cfi_startproc
 774              		@ args = 0, pretend = 0, frame = 8
 775              		@ frame_needed = 0, uses_anonymous_args = 0
  43:display/menu.c **** 	__IO uint16_t key_code = NO_KEY; //–∫–æ–¥ –∫–Ω–æ–ø–∫–∏
 776              		.loc 1 43 1 is_stmt 0 view .LVU234
 777 0000 30B5     		push	{r4, r5, lr}
 778              	.LCFI8:
 779              		.cfi_def_cfa_offset 12
 780              		.cfi_offset 4, -12
 781              		.cfi_offset 5, -8
 782              		.cfi_offset 14, -4
 783 0002 83B0     		sub	sp, sp, #12
 784              	.LCFI9:
 785              		.cfi_def_cfa_offset 24
 786 0004 0446     		mov	r4, r0
 787 0006 0D46     		mov	r5, r1
  44:display/menu.c **** 	if ((key_code = scan_keys()) != NO_KEY)
 788              		.loc 1 44 2 is_stmt 1 view .LVU235
  44:display/menu.c **** 	if ((key_code = scan_keys()) != NO_KEY)
 789              		.loc 1 44 16 is_stmt 0 view .LVU236
 790 0008 0023     		movs	r3, #0
 791 000a ADF80630 		strh	r3, [sp, #6]	@ movhi
  45:display/menu.c **** 	{
 792              		.loc 1 45 2 is_stmt 1 view .LVU237
  45:display/menu.c **** 	{
 793              		.loc 1 45 18 is_stmt 0 view .LVU238
 794 000e FFF7FEFF 		bl	scan_keys
 795              	.LVL60:
  45:display/menu.c **** 	{
 796              		.loc 1 45 16 view .LVU239
 797 0012 ADF80600 		strh	r0, [sp, #6]	@ movhi
  45:display/menu.c **** 	{
 798              		.loc 1 45 5 view .LVU240
 799 0016 C8B1     		cbz	r0, .L57
  47:display/menu.c **** 		{	
 800              		.loc 1 47 3 is_stmt 1 view .LVU241
 801 0018 BDF80630 		ldrh	r3, [sp, #6]
 802 001c 9BB2     		uxth	r3, r3
 803 001e 023B     		subs	r3, r3, #2
 804 0020 062B     		cmp	r3, #6
 805 0022 13D8     		bhi	.L57
 806 0024 DFE803F0 		tbb	[pc, r3]
 807              	.L60:
ARM GAS  /tmp/ccL9TQW7.s 			page 22


 808 0028 04       		.byte	(.L64-.L60)/2
 809 0029 2A       		.byte	(.L63-.L60)/2
 810 002a 2A       		.byte	(.L63-.L60)/2
 811 002b 14       		.byte	(.L62-.L60)/2
 812 002c 1B       		.byte	(.L61-.L60)/2
 813 002d 40       		.byte	(.L59-.L60)/2
 814 002e 40       		.byte	(.L59-.L60)/2
 815 002f 00       		.p2align 1
 816              	.L64:
  50:display/menu.c **** 				while (scan_button_PEDAL() != OFF) {}	//–æ–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–µ–¥–∞–ª–∏
 817              		.loc 1 50 5 view .LVU242
 818 0030 244B     		ldr	r3, .L69
 819 0032 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  50:display/menu.c **** 				while (scan_button_PEDAL() != OFF) {}	//–æ–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–µ–¥–∞–ª–∏
 820              		.loc 1 50 53 is_stmt 0 view .LVU243
 821 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 822 0036 03F18043 		add	r3, r3, #1073741824
 823 003a 013B     		subs	r3, r3, #1
  50:display/menu.c **** 				while (scan_button_PEDAL() != OFF) {}	//–æ–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–µ–¥–∞–ª–∏
 824              		.loc 1 50 5 view .LVU244
 825 003c 55F82310 		ldr	r1, [r5, r3, lsl #2]
 826 0040 FFF7FEFF 		bl	start_drives_turn
 827              	.LVL61:
  51:display/menu.c **** 				break;
 828              		.loc 1 51 5 is_stmt 1 view .LVU245
 829              	.L65:
  51:display/menu.c **** 				break;
 830              		.loc 1 51 41 discriminator 1 view .LVU246
  51:display/menu.c **** 				break;
 831              		.loc 1 51 11 discriminator 1 view .LVU247
  51:display/menu.c **** 				break;
 832              		.loc 1 51 12 is_stmt 0 discriminator 1 view .LVU248
 833 0044 FFF7FEFF 		bl	scan_button_PEDAL
 834              	.LVL62:
  51:display/menu.c **** 				break;
 835              		.loc 1 51 11 discriminator 1 view .LVU249
 836 0048 0028     		cmp	r0, #0
 837 004a FBD1     		bne	.L65
 838              	.L57:
  86:display/menu.c **** 
 839              		.loc 1 86 1 view .LVU250
 840 004c 03B0     		add	sp, sp, #12
 841              	.LCFI10:
 842              		.cfi_remember_state
 843              		.cfi_def_cfa_offset 12
 844              		@ sp needed
 845 004e 30BD     		pop	{r4, r5, pc}
 846              	.LVL63:
 847              	.L62:
 848              	.LCFI11:
 849              		.cfi_restore_state
  55:display/menu.c **** 				break;
 850              		.loc 1 55 5 is_stmt 1 view .LVU251
  55:display/menu.c **** 				break;
 851              		.loc 1 55 18 is_stmt 0 view .LVU252
 852 0050 2946     		mov	r1, r5
 853 0052 2046     		mov	r0, r4
ARM GAS  /tmp/ccL9TQW7.s 			page 23


 854 0054 FFF7FEFF 		bl	menu_select_preset
 855              	.LVL64:
  55:display/menu.c **** 				break;
 856              		.loc 1 55 16 view .LVU253
 857 0058 1A4B     		ldr	r3, .L69
 858 005a 1870     		strb	r0, [r3]
  56:display/menu.c **** 			
 859              		.loc 1 56 5 is_stmt 1 view .LVU254
 860 005c F6E7     		b	.L57
 861              	.L61:
  59:display/menu.c **** 				{	settings_preset_reset (drive_mode, *(HandleCoilData + (drive_mode-1))); }//—Å–±—Ä–æ—Å –≤—ã–ø–
 862              		.loc 1 59 5 view .LVU255
  59:display/menu.c **** 				{	settings_preset_reset (drive_mode, *(HandleCoilData + (drive_mode-1))); }//—Å–±—Ä–æ—Å –≤—ã–ø–
 863              		.loc 1 59 20 is_stmt 0 view .LVU256
 864 005e 194B     		ldr	r3, .L69
 865 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  59:display/menu.c **** 				{	settings_preset_reset (drive_mode, *(HandleCoilData + (drive_mode-1))); }//—Å–±—Ä–æ—Å –≤—ã–ø–
 866              		.loc 1 59 8 view .LVU257
 867 0062 002B     		cmp	r3, #0
 868 0064 F2D0     		beq	.L57
  60:display/menu.c **** 				break;
 869              		.loc 1 60 7 is_stmt 1 view .LVU258
 870 0066 174B     		ldr	r3, .L69
 871 0068 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  60:display/menu.c **** 				break;
 872              		.loc 1 60 59 is_stmt 0 view .LVU259
 873 006a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 874 006c 03F18043 		add	r3, r3, #1073741824
 875 0070 013B     		subs	r3, r3, #1
  60:display/menu.c **** 				break;
 876              		.loc 1 60 7 view .LVU260
 877 0072 55F82310 		ldr	r1, [r5, r3, lsl #2]
 878 0076 FFF7FEFF 		bl	settings_preset_reset
 879              	.LVL65:
 880 007a E7E7     		b	.L57
 881              	.L63:
  65:display/menu.c **** 				setup_null_position ();  //—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–¥–≤–∏–≥–∞—é—â–µ–≥–æ –¥–≤–∏–≥–µ–ª—è –≤ –Ω—É–ª–µ
 882              		.loc 1 65 5 is_stmt 1 view .LVU261
 883 007c FFF7FEFF 		bl	mode_setup_null_screen
 884              	.LVL66:
  66:display/menu.c **** 				if (drive_mode != NO_PRESET) //–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–æ–º–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–
 885              		.loc 1 66 5 view .LVU262
 886 0080 FFF7FEFF 		bl	setup_null_position
 887              	.LVL67:
  67:display/menu.c **** 				{	turn_drive_menu (drive_mode, *(HandleCoilData + (drive_mode-1)), 0); }//–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–
 888              		.loc 1 67 5 view .LVU263
  67:display/menu.c **** 				{	turn_drive_menu (drive_mode, *(HandleCoilData + (drive_mode-1)), 0); }//–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–
 889              		.loc 1 67 20 is_stmt 0 view .LVU264
 890 0084 0F4B     		ldr	r3, .L69
 891 0086 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  67:display/menu.c **** 				{	turn_drive_menu (drive_mode, *(HandleCoilData + (drive_mode-1)), 0); }//–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–
 892              		.loc 1 67 8 view .LVU265
 893 0088 5BB1     		cbz	r3, .L66
  68:display/menu.c **** 				else
 894              		.loc 1 68 7 is_stmt 1 view .LVU266
 895 008a 0E4B     		ldr	r3, .L69
 896 008c 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccL9TQW7.s 			page 24


  68:display/menu.c **** 				else
 897              		.loc 1 68 53 is_stmt 0 view .LVU267
 898 008e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 899 0090 03F18043 		add	r3, r3, #1073741824
 900 0094 013B     		subs	r3, r3, #1
  68:display/menu.c **** 				else
 901              		.loc 1 68 7 view .LVU268
 902 0096 0022     		movs	r2, #0
 903 0098 55F82310 		ldr	r1, [r5, r3, lsl #2]
 904 009c FFF7FEFF 		bl	turn_drive_menu
 905              	.LVL68:
 906 00a0 D4E7     		b	.L57
 907              	.L66:
  70:display/menu.c **** 				break;
 908              		.loc 1 70 7 is_stmt 1 view .LVU269
 909 00a2 FFF7FEFF 		bl	main_menu_select_preset_screen
 910              	.LVL69:
 911 00a6 D1E7     		b	.L57
 912              	.L59:
  75:display/menu.c **** 				while (select_direction() == ERROR) {} //–æ–∂–∏–¥–∞–Ω–∏—è –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—
 913              		.loc 1 75 5 view .LVU270
 914 00a8 FFF7FEFF 		bl	mode_setup_manual_dir_screen
 915              	.LVL70:
  76:display/menu.c **** 				mode_setup_manual_screen (); //–≤—ã–≤–æ–¥ –∑–∞—Å—Ç–∞–≤–∫–∏ —Ä–µ–∂–∏–º–∞ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω
 916              		.loc 1 76 5 view .LVU271
 917              	.L67:
  76:display/menu.c **** 				mode_setup_manual_screen (); //–≤—ã–≤–æ–¥ –∑–∞—Å—Ç–∞–≤–∫–∏ —Ä–µ–∂–∏–º–∞ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω
 918              		.loc 1 76 42 discriminator 1 view .LVU272
  76:display/menu.c **** 				mode_setup_manual_screen (); //–≤—ã–≤–æ–¥ –∑–∞—Å—Ç–∞–≤–∫–∏ —Ä–µ–∂–∏–º–∞ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω
 919              		.loc 1 76 11 discriminator 1 view .LVU273
  76:display/menu.c **** 				mode_setup_manual_screen (); //–≤—ã–≤–æ–¥ –∑–∞—Å—Ç–∞–≤–∫–∏ —Ä–µ–∂–∏–º–∞ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω
 920              		.loc 1 76 12 is_stmt 0 discriminator 1 view .LVU274
 921 00ac FFF7FEFF 		bl	select_direction
 922              	.LVL71:
  76:display/menu.c **** 				mode_setup_manual_screen (); //–≤—ã–≤–æ–¥ –∑–∞—Å—Ç–∞–≤–∫–∏ —Ä–µ–∂–∏–º–∞ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω
 923              		.loc 1 76 11 discriminator 1 view .LVU275
 924 00b0 B0F1FF3F 		cmp	r0, #-1
 925 00b4 FAD0     		beq	.L67
  77:display/menu.c **** 				manual_control_drive1 ();	//—Ñ-—è —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–ª–æ–∂–µ–Ω–∏—è —Å–¥–≤–∏–≥
 926              		.loc 1 77 5 is_stmt 1 view .LVU276
 927 00b6 FFF7FEFF 		bl	mode_setup_manual_screen
 928              	.LVL72:
  78:display/menu.c **** 				main_menu_select_preset_screen(); //–≤—ã–≤–æ–¥ –∑–∞—Å—Ç–∞–≤–∫–∏ —Ä–µ–∂–∏–º–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–
 929              		.loc 1 78 5 view .LVU277
 930 00ba FFF7FEFF 		bl	manual_control_drive1
 931              	.LVL73:
  79:display/menu.c **** 				break;
 932              		.loc 1 79 5 view .LVU278
 933 00be FFF7FEFF 		bl	main_menu_select_preset_screen
 934              	.LVL74:
  80:display/menu.c **** 		
 935              		.loc 1 80 5 view .LVU279
  86:display/menu.c **** 
 936              		.loc 1 86 1 is_stmt 0 view .LVU280
 937 00c2 C3E7     		b	.L57
 938              	.L70:
 939              		.align	2
ARM GAS  /tmp/ccL9TQW7.s 			page 25


 940              	.L69:
 941 00c4 00000000 		.word	.LANCHOR1
 942              		.cfi_endproc
 943              	.LFE951:
 945              		.global	drive_mode
 946              		.global	count_delay
 947              		.section	.bss.count_delay,"aw",%nobits
 948              		.set	.LANCHOR0,. + 0
 951              	count_delay:
 952 0000 00       		.space	1
 953              		.section	.data.drive_mode,"aw"
 954              		.set	.LANCHOR1,. + 0
 957              	drive_mode:
 958 0000 01       		.byte	1
 959              		.text
 960              	.Letext0:
 961              		.file 2 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/m
 962              		.file 3 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/s
 963              		.file 4 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_ll_dma.h"
 964              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_ll_tim.h"
 965              		.file 6 "Core/Inc/typedef.h"
 966              		.file 7 "Core/Inc/drive.h"
 967              		.file 8 "display/ssd1306.h"
 968              		.file 9 "Core/Inc/button.h"
 969              		.file 10 "Core/Inc/encoder.h"
 970              		.file 11 "Core/Inc/eeprom.h"
 971              		.file 12 "Core/Inc/tim.h"
 972              		.file 13 "Core/Inc/calc_value.h"
ARM GAS  /tmp/ccL9TQW7.s 			page 26


DEFINED SYMBOLS
                            *ABS*:0000000000000000 menu.c
     /tmp/ccL9TQW7.s:18     .text.init_loop:0000000000000000 $t
     /tmp/ccL9TQW7.s:24     .text.init_loop:0000000000000000 init_loop
     /tmp/ccL9TQW7.s:103    .text.init_loop:000000000000004c $d
     /tmp/ccL9TQW7.s:108    .text.setup_menu:0000000000000000 $t
     /tmp/ccL9TQW7.s:114    .text.setup_menu:0000000000000000 setup_menu
     /tmp/ccL9TQW7.s:552    .text.setup_menu:00000000000001f8 $d
     /tmp/ccL9TQW7.s:557    .text.turn_drive_menu:0000000000000000 $t
     /tmp/ccL9TQW7.s:563    .text.turn_drive_menu:0000000000000000 turn_drive_menu
     /tmp/ccL9TQW7.s:597    .text.menu_select_preset:0000000000000000 $t
     /tmp/ccL9TQW7.s:603    .text.menu_select_preset:0000000000000000 menu_select_preset
     /tmp/ccL9TQW7.s:758    .text.menu_select_preset:00000000000000ac $d
     /tmp/ccL9TQW7.s:763    .text.main_loop:0000000000000000 $t
     /tmp/ccL9TQW7.s:769    .text.main_loop:0000000000000000 main_loop
     /tmp/ccL9TQW7.s:808    .text.main_loop:0000000000000028 $d
     /tmp/ccL9TQW7.s:941    .text.main_loop:00000000000000c4 $d
     /tmp/ccL9TQW7.s:957    .data.drive_mode:0000000000000000 drive_mode
     /tmp/ccL9TQW7.s:951    .bss.count_delay:0000000000000000 count_delay
     /tmp/ccL9TQW7.s:952    .bss.count_delay:0000000000000000 $d
     /tmp/ccL9TQW7.s:815    .text.main_loop:000000000000002f $d
     /tmp/ccL9TQW7.s:815    .text.main_loop:0000000000000030 $t

UNDEFINED SYMBOLS
release_pedal_menu
start_scan_key_PEDAL
delay_us
init_status_flags_drives
Stop_Count_Timers
calc_rotation_speed
drive2_turn
drive1_turn
setup_speed_screen
read_encoder
scan_keys
setup_ratio_screen
SoftStop_Drives
HardStop_Drives
setup_coil_screen
SaveCoilData
status_drives
default_screen
menu_select_preset_screen
start_drives_turn
scan_button_PEDAL
settings_preset_reset
mode_setup_null_screen
setup_null_position
main_menu_select_preset_screen
mode_setup_manual_dir_screen
select_direction
mode_setup_manual_screen
manual_control_drive1
